<UserControl x:Class="InvoiceStudio.Presentation.Wpf.Views.Dashboard.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="1000"
             Background="#F5F5F5">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">

            <!-- Header -->
            <TextBlock Text="Dashboard Overview" 
                       FontSize="28" 
                       FontWeight="Bold" 
                       Foreground="#2C3E50"
                       Margin="0,0,0,30"/>

            <!-- Statistics Cards -->
            <Grid Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Total Revenue Card -->
                <Border Grid.Column="0" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="20"
                        Margin="0,0,15,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Total Revenue" 
                                   FontSize="14" 
                                   Foreground="#7F8C8D"
                                   Margin="0,0,0,10"/>
                        <TextBlock Text="{Binding TotalRevenue, StringFormat='{}{0:C}'}" 
                                   FontSize="32" 
                                   FontWeight="Bold"
                                   Foreground="#27AE60"/>
                    </StackPanel>
                </Border>

                <!-- Total Invoices Card -->
                <Border Grid.Column="1" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="20"
                        Margin="0,0,15,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Total Invoices" 
                                   FontSize="14" 
                                   Foreground="#7F8C8D"
                                   Margin="0,0,0,10"/>
                        <TextBlock Text="{Binding TotalInvoices}" 
                                   FontSize="32" 
                                   FontWeight="Bold"
                                   Foreground="#3498DB"/>
                    </StackPanel>
                </Border>

                <!-- Overdue Invoices Card -->
                <Border Grid.Column="2" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="20"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Overdue Invoices" 
                                   FontSize="14" 
                                   Foreground="#7F8C8D"
                                   Margin="0,0,0,10"/>
                        <TextBlock Text="{Binding OverdueInvoices}" 
                                   FontSize="32" 
                                   FontWeight="Bold"
                                   Foreground="#E74C3C"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Quick Stats Row -->
            <Grid Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Paid Invoices -->
                <Border Grid.Column="0" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="15"
                        Margin="0,0,15,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Paid Invoices" 
                                   FontSize="12" 
                                   Foreground="#7F8C8D"/>
                        <TextBlock Text="{Binding PaidInvoices}" 
                                   FontSize="24" 
                                   FontWeight="SemiBold"
                                   Foreground="#2C3E50"/>
                    </StackPanel>
                </Border>

                <!-- Total Clients -->
                <Border Grid.Column="1" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="15"
                        Margin="0,0,15,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Total Clients" 
                                   FontSize="12" 
                                   Foreground="#7F8C8D"/>
                        <TextBlock Text="{Binding TotalClients}" 
                                   FontSize="24" 
                                   FontWeight="SemiBold"
                                   Foreground="#2C3E50"/>
                    </StackPanel>
                </Border>

                <!-- Total Products -->
                <Border Grid.Column="2" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="15"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Total Products" 
                                   FontSize="12" 
                                   Foreground="#7F8C8D"/>
                        <TextBlock Text="{Binding TotalProducts}" 
                                   FontSize="24" 
                                   FontWeight="SemiBold"
                                   Foreground="#2C3E50"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Recent Invoices -->
            <Border Background="White" 
                    CornerRadius="8" 
                    Padding="20"
                    BorderBrush="#E0E0E0" 
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock Text="Recent Invoices" 
                               FontSize="18" 
                               FontWeight="SemiBold"
                               Foreground="#2C3E50"
                               Margin="0,0,0,15"/>

                    <DataGrid ItemsSource="{Binding RecentInvoices}"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column"
                              Background="White"
                              RowBackground="White"
                              AlternatingRowBackground="#F8F9FA"
                              BorderThickness="0">

                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Invoice #" 
                                                Binding="{Binding InvoiceNumber, Mode=OneWay}" 
                                                Width="120"/>

                            <DataGridTextColumn Header="Client" 
                                                Binding="{Binding Client.Name, Mode=OneWay, TargetNullValue='-'}" 
                                                Width="*"/>

                            <DataGridTextColumn Header="Date" 
                                                Binding="{Binding IssueDate, StringFormat='{}{0:dd/MM/yyyy}', Mode=OneWay}" 
                                                Width="100"/>

                            <DataGridTextColumn Header="Status" 
                                                Binding="{Binding Status, Mode=OneWay}" 
                                                Width="100"/>

                            <DataGridTextColumn Header="Total" 
                                                Binding="{Binding TotalAmount, StringFormat='{}{0:C}', Mode=OneWay}" 
                                                Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>