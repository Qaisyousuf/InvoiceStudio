<Window x:Class="InvoiceStudio.Presentation.Wpf.Views.Clients.ClientDialogView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding Title}"
        Width="600" Height="800"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F8FAFC">

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="{Binding Title}" 
                   FontSize="24" 
                   FontWeight="Bold" 
                   Foreground="#1E293B" 
                   Margin="0,0,0,30"/>

        <!-- Form Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- Client Type -->
                <StackPanel Margin="0,0,0,20">
                    <TextBlock Text="Client Type" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <ComboBox SelectedIndex="{Binding SelectedTypeIndex}" 
                              Padding="12,8" 
                              FontSize="14">
                        <ComboBoxItem Content="Individual"/>
                        <ComboBoxItem Content="Company"/>
                    </ComboBox>
                </StackPanel>

                <!-- Country Selection -->
                <StackPanel Margin="0,0,0,20">
                    <TextBlock Text="Country/Region" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <ComboBox SelectedIndex="{Binding SelectedCountryIndex}" 
                              Padding="12,8" 
                              FontSize="14">
                        <ComboBoxItem Content="International"/>
                        <ComboBoxItem Content="France"/>
                        <ComboBoxItem Content="Denmark"/>
                    </ComboBox>
                </StackPanel>

                <!-- Basic Information -->
                <Border Background="White" CornerRadius="8" Padding="20" 
                        BorderBrush="#E2E8F0" BorderThickness="1" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Basic Information" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Foreground="#374151" Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Name *" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding Name}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Legal Name" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding LegalName}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Email" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding Email}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Phone" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding Phone}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>

                        <StackPanel>
                            <TextBlock Text="Website" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Website}" 
                                     Padding="12,8" 
                                     FontSize="14"
                                     BorderBrush="#D1D5DB"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Address Information -->
                <Border Background="White" CornerRadius="8" Padding="20" 
                        BorderBrush="#E2E8F0" BorderThickness="1" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Address Information" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Foreground="#374151" Margin="0,0,0,15"/>

                        <StackPanel Margin="0,0,0,15">
                            <TextBlock Text="Street" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Street}" 
                                     Padding="12,8" 
                                     FontSize="14"
                                     BorderBrush="#D1D5DB"/>
                        </StackPanel>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="City" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding City}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Postal Code" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding PostalCode}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>

                            <StackPanel Grid.Column="4">
                                <TextBlock Text="Country" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding CountryName}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- French Business Information -->
                <Border Background="White" CornerRadius="8" Padding="20" 
        BorderBrush="#E2E8F0" BorderThickness="1" Margin="0,0,0,20">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ShowFrenchFields}" Value="True">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <StackPanel>
                        <TextBlock Text="🇫🇷 French Business Information" 
                   FontSize="16" 
                   FontWeight="SemiBold" 
                   Foreground="#374151" Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="SIRET Number (14 digits)" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding Siret}" 
                         Padding="12,8" 
                         FontSize="14"
                         BorderBrush="#D1D5DB"
                         MaxLength="14"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Intra-Community VAT" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding IntraCommunityVat}" 
                         Padding="12,8" 
                         FontSize="14"
                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Danish Business Information -->
                <Border Background="White" CornerRadius="8" Padding="20" 
        BorderBrush="#E2E8F0" BorderThickness="1" Margin="0,0,0,20">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ShowDanishFields}" Value="True">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <StackPanel>
                        <TextBlock Text="🇩🇰 Danish Business Information" 
                   FontSize="16" 
                   FontWeight="SemiBold" 
                   Foreground="#374151" Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="CVR Number (8 digits)" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding CvrNumber}" 
                         Padding="12,8" 
                         FontSize="14"
                         BorderBrush="#D1D5DB"
                         MaxLength="8"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Danish VAT Number" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding DanishVatNumber}" 
                         Padding="12,8" 
                         FontSize="14"
                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- International Business Information -->
                <Border Background="White" CornerRadius="8" Padding="20" 
        BorderBrush="#E2E8F0" BorderThickness="1" Margin="0,0,0,20">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ShowGenericFields}" Value="True">
                                    <Setter Property="Visibility" Value="Visible"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <StackPanel>
                        <TextBlock Text="Business Information" 
                   FontSize="16" 
                   FontWeight="SemiBold" 
                   Foreground="#374151" Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Tax ID" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding TaxId}" 
                         Padding="12,8" 
                         FontSize="14"
                         BorderBrush="#D1D5DB"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="VAT Number" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding VatNumber}" 
                         Padding="12,8" 
                         FontSize="14"
                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Payment Settings -->
                <Border Background="White" CornerRadius="8" Padding="20" 
                        BorderBrush="#E2E8F0" BorderThickness="1" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="Payment Settings" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Foreground="#374151" Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Preferred Currency" FontWeight="Medium" Margin="0,0,0,5"/>
                                <ComboBox SelectedValue="{Binding PreferredCurrency}" 
                                          SelectedValuePath="Content"
                                          Padding="12,8" 
                                          FontSize="14">
                                    <ComboBoxItem Content="EUR"/>
                                    <ComboBoxItem Content="USD"/>
                                    <ComboBoxItem Content="DKK"/>
                                    <ComboBoxItem Content="GBP"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Payment Terms (Days)" FontWeight="Medium" Margin="0,0,0,5"/>
                                <TextBox Text="{Binding PaymentTermDays}" 
                                         Padding="12,8" 
                                         FontSize="14"
                                         BorderBrush="#D1D5DB"/>
                            </StackPanel>
                        </Grid>

                        <StackPanel Margin="0,0,0,15">
                            <TextBlock Text="Notes" FontWeight="Medium" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Notes}" 
                                     AcceptsReturn="True" 
                                     Height="80" 
                                     Padding="12,8" 
                                     FontSize="14"
                                     BorderBrush="#D1D5DB" 
                                     VerticalScrollBarVisibility="Auto"/>
                        </StackPanel>

                        <CheckBox IsChecked="{Binding IsActive}" 
                                  Content="Active" 
                                  FontWeight="Medium"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="0,30,0,0">

            <Button Content="Cancel" 
                    Click="CancelButton_Click"
                    Padding="20,10" 
                    MinWidth="100"
                    Background="#6B7280" 
                    Foreground="White" 
                    BorderThickness="0" 
                    FontWeight="SemiBold"
                    Margin="0,0,15,0"/>

            <Button Content="Save" 
                    Click="SaveButton_Click"
                    Padding="20,10" 
                    MinWidth="100"
                    Background="#10B981" 
                    Foreground="White" 
                    BorderThickness="0" 
                    FontWeight="SemiBold"/>
        </StackPanel>
    </Grid>
</Window>